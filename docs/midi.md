# MIDI Input Management

Harmoniq Studio now includes an experimental MIDI device manager backed by the
`harmoniq-midi` crate. The service discovers available ports through `midir`
and keeps a cached configuration in `~/.config/HarmoniqStudio/midi.json`.

## Device Setup

Open **Options → MIDI Devices…** to configure available inputs. Each device can
be enabled or disabled, assigned to a port index, and given per-device
transposition settings. Changes are persisted automatically through the runtime
service and reloaded on startup.

## MIDI Learn

The MIDI Learn panel records three-byte MIDI messages and maps them to
instrument parameters. The `MidiLearnMap` type deduplicates entries so repeated
learn operations replace previous bindings without generating duplicates.

## QWERTY Fallback

When no hardware input is available, enable the QWERTY fallback keyboard from
the MIDI devices panel. The layout maps the `Z` row to white keys and number
row for octave adjustments. Events generated by the keyboard travel through the
same routing path as hardware devices, ensuring consistent behaviour.
